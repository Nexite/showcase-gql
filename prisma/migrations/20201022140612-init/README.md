# Migration `20201022140612-init`

This migration has been generated by Tyler Menezes at 10/22/2020, 10:06:12 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE `Project` (
`id` varchar(191)  NOT NULL ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
`updatedAt` datetime(3)  NOT NULL ,
`name` varchar(191)  NOT NULL ,
`featured` boolean  NOT NULL DEFAULT false,
`type` ENUM('APP', 'GAME', 'VR', 'HARDWARE', 'WEBSITE', 'LIBRARY', 'BOT', 'OTHER')  NOT NULL DEFAULT 'APP',
`description` varchar(191)  ,
`priorExperience` varchar(191)  ,
`codeLink` varchar(191)  ,
`viewLink` varchar(191)  ,
`eventId` varchar(191)  NOT NULL ,
`eventGroupId` varchar(191)  ,
`regionId` varchar(191)  ,
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `Media` (
`id` varchar(191)  NOT NULL ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
`updatedAt` datetime(3)  NOT NULL ,
`type` ENUM('VIDEO', 'IMAGE')  NOT NULL ,
`topic` ENUM('TEAM', 'DEMO', 'PRESENTATION')  NOT NULL ,
`image` varchar(191)  NOT NULL ,
`stream` varchar(191)  NOT NULL ,
`download` varchar(191)  NOT NULL ,
`projectId` varchar(191)  NOT NULL ,
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `Award` (
`id` varchar(191)  NOT NULL ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
`updatedAt` datetime(3)  NOT NULL ,
`type` varchar(191)  NOT NULL ,
`modifier` varchar(191)  ,
`projectId` varchar(191)  NOT NULL ,
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `Member` (
`id` varchar(191)  NOT NULL ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
`updatedAt` datetime(3)  NOT NULL ,
`username` varchar(191)  NOT NULL ,
`projectId` varchar(191)  NOT NULL ,
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `Metadata` (
`id` varchar(191)  NOT NULL ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
`updatedAt` datetime(3)  NOT NULL ,
`key` varchar(191)  NOT NULL ,
`value` varchar(191)  ,
`projectId` varchar(191)  NOT NULL ,
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

ALTER TABLE `Media` ADD FOREIGN KEY (`projectId`) REFERENCES `showcase`.`Project`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `Award` ADD FOREIGN KEY (`projectId`) REFERENCES `showcase`.`Project`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `Member` ADD FOREIGN KEY (`projectId`) REFERENCES `showcase`.`Project`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `Metadata` ADD FOREIGN KEY (`projectId`) REFERENCES `showcase`.`Project`(`id`) ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20201022140612-init
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,103 @@
+datasource db {
+  provider = "mysql"
+  url = "***"
+}
+
+generator client {
+  provider = "prisma-client-js"
+}
+
+enum ProjectType {
+  APP
+  GAME
+  VR
+  HARDWARE
+  WEBSITE
+  LIBRARY
+  BOT
+  OTHER
+}
+
+enum MediaType {
+  VIDEO
+  IMAGE
+}
+
+enum MediaTopic {
+  TEAM
+  DEMO
+  PRESENTATION
+}
+
+model Project {
+  id                String    @id @default(cuid())
+  createdAt         DateTime  @default(now())
+  updatedAt         DateTime  @updatedAt
+
+  name              String
+  featured          Boolean   @default(false)
+  type              ProjectType @default(APP)
+  description       String?
+  priorExperience   String?
+  codeLink          String?
+  viewLink          String?
+
+  eventId           String
+  eventGroupId      String?
+  regionId          String?
+  media             Media[]
+  awards            Award[]
+  members           Member[]
+  metadata          Metadata[]
+}
+
+model Media {
+  id          String      @id @default(cuid())
+  createdAt         DateTime  @default(now())
+  updatedAt         DateTime  @updatedAt
+
+  type        MediaType
+  topic       MediaTopic
+
+  image       String
+  stream      String
+  download    String
+
+  project     Project     @relation(fields: [projectId], references: [id])
+  projectId   String
+}
+
+model Award {
+  id          String      @id @default(cuid())
+  createdAt         DateTime  @default(now())
+  updatedAt         DateTime  @updatedAt
+
+  type        String
+  modifier    String?
+
+  project     Project     @relation(fields: [projectId], references: [id])
+  projectId   String
+}
+
+model Member {
+  id          String      @id @default(cuid())
+  createdAt         DateTime  @default(now())
+  updatedAt         DateTime  @updatedAt
+
+  username    String
+
+  project     Project     @relation(fields: [projectId], references: [id])
+  projectId   String
+}
+
+model Metadata {
+  id          String      @id @default(cuid())
+  createdAt         DateTime  @default(now())
+  updatedAt         DateTime  @updatedAt
+
+  key         String
+  value       String?
+
+  project     Project     @relation(fields: [projectId], references: [id])
+  projectId   String
+}
```


